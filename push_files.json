{
    "repoName":  "mcp-github-server",
    "branch":  "main",
    "message":  "Initial commit: MCP server implementation with GitHub integration",
    "files":  [
                  {
                      "path":  "server.js",
                      "content":  "aW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnOw0KaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7DQppbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7DQppbXBvcnQgeyBPY3Rva2l0IH0gZnJvbSAnQG9jdG9raXQvcmVzdCc7DQppbXBvcnQgd2luc3RvbiBmcm9tICd3aW5zdG9uJzsNCg0KZG90ZW52LmNvbmZpZygpOw0KDQovLyBDb25maWd1cmUgbG9nZ2VyDQpjb25zdCBsb2dnZXIgPSB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7DQogIGxldmVsOiAnaW5mbycsDQogIGZvcm1hdDogd2luc3Rvbi5mb3JtYXQuY29tYmluZSgNCiAgICB3aW5zdG9uLmZvcm1hdC50aW1lc3RhbXAoKSwNCiAgICB3aW5zdG9uLmZvcm1hdC5qc29uKCkNCiAgKSwNCiAgdHJhbnNwb3J0czogWw0KICAgIG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuRmlsZSh7IGZpbGVuYW1lOiAnZXJyb3IubG9nJywgbGV2ZWw6ICdlcnJvcicgfSksDQogICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6ICdjb21iaW5lZC5sb2cnIH0pLA0KICAgIG5ldyB3aW5zdG9uLnRyYW5zcG9ydHMuQ29uc29sZSgpDQogIF0NCn0pOw0KDQpjb25zdCBhcHAgPSBleHByZXNzKCk7DQphcHAudXNlKGJvZHlQYXJzZXIuanNvbih7IGxpbWl0OiAnNTBtYicgfSkpOw0KDQovLyBWYWxpZGF0ZSBHaXRIdWIgdG9rZW4NCmlmICghcHJvY2Vzcy5lbnYuR0lUSFVCX1RPS0VOKSB7DQogIGxvZ2dlci5lcnJvcignR0lUSFVCX1RPS0VOIG5vdCBmb3VuZCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTsNCiAgcHJvY2Vzcy5leGl0KDEpOw0KfQ0KDQpjb25zdCBvY3Rva2l0ID0gbmV3IE9jdG9raXQoew0KICBhdXRoOiBwcm9jZXNzLmVudi5HSVRIVUJfVE9LRU4sDQp9KTsNCg0KY29uc3QgT1dORVIgPSAnTW9zdGFmYVN3YWlzeSc7DQoNCi8vIFN0b3JlIGNvbnRleHQgaW5mb3JtYXRpb24NCmNvbnN0IGNvbnRleHRTdG9yZSA9IG5ldyBNYXAoKTsNCg0KLy8gSW5wdXQgdmFsaWRhdGlvbiBtaWRkbGV3YXJlDQpjb25zdCB2YWxpZGF0ZUlucHV0ID0gKHNjaGVtYSkgPT4gew0KICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7DQogICAgY29uc3QgeyBlcnJvciB9ID0gc2NoZW1hLnZhbGlkYXRlKHJlcS5ib2R5KTsNCiAgICBpZiAoZXJyb3IpIHsNCiAgICAgIGxvZ2dlci5lcnJvcignSW5wdXQgdmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvci5kZXRhaWxzKTsNCiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UgfSk7DQogICAgfQ0KICAgIG5leHQoKTsNCiAgfTsNCn07DQoNCi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUNCmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHsNCiAgbG9nZ2VyLmVycm9yKCdVbmhhbmRsZWQgZXJyb3I6JywgZXJyKTsNCiAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsIGRldGFpbHM6IGVyci5tZXNzYWdlIH0pOw0KfSk7DQoNCi8vIENvbnRlbnQgZW5jb2RpbmcvZGVjb2RpbmcgaGVscGVycw0KY29uc3QgZW5jb2RlQ29udGVudCA9IChjb250ZW50KSA9PiB7DQogIHJldHVybiBCdWZmZXIuZnJvbShjb250ZW50KS50b1N0cmluZygnYmFzZTY0Jyk7DQp9Ow0KDQpjb25zdCBkZWNvZGVDb250ZW50ID0gKGNvbnRlbnQpID0+IHsNCiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNvbnRlbnQsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpOw0KfTsNCg0KLy8gTUNQIFByb3RvY29sIGVuZHBvaW50cw0KYXBwLnBvc3QoJy92MS9pbml0JywgKHJlcSwgcmVzKSA9PiB7DQogIHRyeSB7DQogICAgY29uc3QgY29udGV4dElkID0gYGN0eF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWA7DQogICAgY29udGV4dFN0b3JlLnNldChjb250ZXh0SWQsIHsNCiAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksDQogICAgICBmaWxlczoge30sDQogICAgICByZXBvSW5mbzogbnVsbA0KICAgIH0pOw0KICAgIGxvZ2dlci5pbmZvKGBDcmVhdGVkIG5ldyBjb250ZXh0OiAke2NvbnRleHRJZH1gKTsNCiAgICByZXMuanNvbih7IGNvbnRleHRfaWQ6IGNvbnRleHRJZCB9KTsNCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgbG9nZ2VyLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgY29udGV4dDonLCBlcnIpOw0KICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb250ZXh0JyB9KTsNCiAgfQ0KfSk7DQoNCmFwcC5wb3N0KCcvdjEvYWRkX2ZpbGUnLCAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyBjb250ZXh0X2lkLCBwYXRoLCBjb250ZW50LCByZXBvLCBicmFuY2ggfSA9IHJlcS5ib2R5Ow0KICANCiAgdHJ5IHsNCiAgICBpZiAoIWNvbnRleHRTdG9yZS5oYXMoY29udGV4dF9pZCkpIHsNCiAgICAgIGxvZ2dlci5lcnJvcihgQ29udGV4dCBub3QgZm91bmQ6ICR7Y29udGV4dF9pZH1gKTsNCiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQ29udGV4dCBub3QgZm91bmQnIH0pOw0KICAgIH0NCiAgICANCiAgICBpZiAoIXBhdGggfHwgIWNvbnRlbnQpIHsNCiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnUGF0aCBhbmQgY29udGVudCBhcmUgcmVxdWlyZWQnIH0pOw0KICAgIH0NCiAgICANCiAgICBjb25zdCBjb250ZXh0ID0gY29udGV4dFN0b3JlLmdldChjb250ZXh0X2lkKTsNCiAgICBjb250ZXh0LmZpbGVzW3BhdGhdID0geyANCiAgICAgIGNvbnRlbnQ6IGVuY29kZUNvbnRlbnQoY29udGVudCksIA0KICAgICAgYWRkZWQ6IG5ldyBEYXRlKCkgDQogICAgfTsNCiAgICANCiAgICBpZiAocmVwbykgew0KICAgICAgY29udGV4dC5yZXBvSW5mbyA9IHsgcmVwbywgYnJhbmNoOiBicmFuY2ggfHwgJ21haW4nIH07DQogICAgfQ0KICAgIA0KICAgIGxvZ2dlci5pbmZvKGBBZGRlZCBmaWxlICR7cGF0aH0gdG8gY29udGV4dCAke2NvbnRleHRfaWR9YCk7DQogICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGFkZGluZyBmaWxlIHRvIGNvbnRleHQ6JywgZXJyKTsNCiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGFkZCBmaWxlIHRvIGNvbnRleHQnIH0pOw0KICB9DQp9KTsNCg0KLy8gMy4gUmVtb3ZlIGZpbGUgZnJvbSBjb250ZXh0DQphcHAucG9zdCgnL3YxL3JlbW92ZV9maWxlJywgKHJlcSwgcmVzKSA9PiB7DQogIGNvbnN0IHsgY29udGV4dF9pZCwgcGF0aCB9ID0gcmVxLmJvZHk7DQogIA0KICBpZiAoIWNvbnRleHRTdG9yZS5oYXMoY29udGV4dF9pZCkpIHsNCiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0NvbnRleHQgbm90IGZvdW5kJyB9KTsNCiAgfQ0KICANCiAgY29uc3QgY29udGV4dCA9IGNvbnRleHRTdG9yZS5nZXQoY29udGV4dF9pZCk7DQogIGlmIChjb250ZXh0LmZpbGVzW3BhdGhdKSB7DQogICAgZGVsZXRlIGNvbnRleHQuZmlsZXNbcGF0aF07DQogIH0NCiAgDQogIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTsNCn0pOw0KDQovLyA0LiBHZXQgY29udGV4dA0KYXBwLmdldCgnL3YxL2dldF9jb250ZXh0JywgKHJlcSwgcmVzKSA9PiB7DQogIGNvbnN0IHsgY29udGV4dF9pZCB9ID0gcmVxLnF1ZXJ5Ow0KICANCiAgaWYgKCFjb250ZXh0U3RvcmUuaGFzKGNvbnRleHRfaWQpKSB7DQogICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDb250ZXh0IG5vdCBmb3VuZCcgfSk7DQogIH0NCiAgDQogIGNvbnN0IGNvbnRleHQgPSBjb250ZXh0U3RvcmUuZ2V0KGNvbnRleHRfaWQpOw0KICByZXMuanNvbih7DQogICAgZmlsZXM6IE9iamVjdC5lbnRyaWVzKGNvbnRleHQuZmlsZXMpLm1hcCgoW3BhdGgsIGRhdGFdKSA9PiAoew0KICAgICAgcGF0aCwNCiAgICAgIGNvbnRlbnQ6IGRhdGEuY29udGVudA0KICAgIH0pKSwNCiAgICByZXBvX2luZm86IGNvbnRleHQucmVwb0luZm8NCiAgfSk7DQp9KTsNCg0KLy8gNS4gU2VhcmNoIGluIGNvbnRleHQNCmFwcC5wb3N0KCcvdjEvc2VhcmNoJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7DQogIGNvbnN0IHsgY29udGV4dF9pZCwgcXVlcnkgfSA9IHJlcS5ib2R5Ow0KICANCiAgaWYgKCFjb250ZXh0U3RvcmUuaGFzKGNvbnRleHRfaWQpKSB7DQogICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDb250ZXh0IG5vdCBmb3VuZCcgfSk7DQogIH0NCiAgDQogIGNvbnN0IGNvbnRleHQgPSBjb250ZXh0U3RvcmUuZ2V0KGNvbnRleHRfaWQpOw0KICBjb25zdCByZXN1bHRzID0gW107DQogIA0KICBmb3IgKGNvbnN0IFtwYXRoLCBkYXRhXSBvZiBPYmplY3QuZW50cmllcyhjb250ZXh0LmZpbGVzKSkgew0KICAgIGlmIChkYXRhLmNvbnRlbnQuaW5jbHVkZXMocXVlcnkpKSB7DQogICAgICByZXN1bHRzLnB1c2goew0KICAgICAgICBwYXRoLA0KICAgICAgICBtYXRjaGVzOiBkYXRhLmNvbnRlbnQuc3BsaXQoJ1xuJykNCiAgICAgICAgICAubWFwKChsaW5lLCBpZHgpID0+ICh7IGxpbmU6IGlkeCArIDEsIGNvbnRlbnQ6IGxpbmUgfSkpDQogICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0uY29udGVudC5pbmNsdWRlcyhxdWVyeSkpDQogICAgICB9KTsNCiAgICB9DQogIH0NCiAgDQogIHJlcy5qc29uKHsgcmVzdWx0cyB9KTsNCn0pOw0KDQovLyBPcmlnaW5hbCBHaXRIdWIgb3BlcmF0aW9ucyBlbmRwb2ludHMgKGtlcHQgZm9yIGNvbXBhdGliaWxpdHkpDQphcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7DQogIHJlcy5zZW5kKGANCiAgICA8aDI+TUNQIFNlcnZlciBmb3IgQ3Vyc29yIElERSAtIEdpdEh1YiBPcGVyYXRpb25zPC9oMj4NCiAgICA8cD5UaGlzIHNlcnZlciBpbXBsZW1lbnRzIHRoZSBNb2RlbCBDb250ZXh0IFByb3RvY29sIGZvciBDdXJzb3IgSURFIGFuZCBwcm92aWRlcyBjb21wcmVoZW5zaXZlIEdpdEh1YiBpbnRlZ3JhdGlvbi48L3A+DQogICAgDQogICAgPGgzPk1DUCBQcm90b2NvbCBFbmRwb2ludHM6PC9oMz4NCiAgICA8dWw+DQogICAgICA8bGk+PGNvZGU+UE9TVCAvdjEvaW5pdDwvY29kZT4gLSBJbml0aWFsaXplIGEgbmV3IGNvbnRleHQNCiAgICAgICAgPGJyPjxzbWFsbD5DcmVhdGVzIGEgbmV3IGNvbnRleHQgZm9yIG1hbmFnaW5nIGZpbGVzIGFuZCBvcGVyYXRpb25zPC9zbWFsbD4NCiAgICAgIDwvbGk+DQogICAgICA8bGk+PGNvZGU+UE9TVCAvdjEvYWRkX2ZpbGU8L2NvZGU+IC0gQWRkIGEgZmlsZSB0byB0aGUgY29udGV4dA0KICAgICAgICA8YnI+PHNtYWxsPkFkZCBvciB1cGRhdGUgYSBmaWxlIGluIHRoZSBzcGVjaWZpZWQgY29udGV4dDwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPlBPU1QgL3YxL3JlbW92ZV9maWxlPC9jb2RlPiAtIFJlbW92ZSBhIGZpbGUgZnJvbSB0aGUgY29udGV4dA0KICAgICAgICA8YnI+PHNtYWxsPlJlbW92ZSBhIGZpbGUgZnJvbSB0aGUgc3BlY2lmaWVkIGNvbnRleHQ8L3NtYWxsPg0KICAgICAgPC9saT4NCiAgICAgIDxsaT48Y29kZT5HRVQgL3YxL2dldF9jb250ZXh0PC9jb2RlPiAtIEdldCB0aGUgY3VycmVudCBjb250ZXh0DQogICAgICAgIDxicj48c21hbGw+UmV0cmlldmUgYWxsIGZpbGVzIGFuZCBpbmZvcm1hdGlvbiBpbiBhIGNvbnRleHQ8L3NtYWxsPg0KICAgICAgPC9saT4NCiAgICAgIDxsaT48Y29kZT5QT1NUIC92MS9zZWFyY2g8L2NvZGU+IC0gU2VhcmNoIGluIHRoZSBjb250ZXh0DQogICAgICAgIDxicj48c21hbGw+U2VhcmNoIGZvciBjb250ZW50IGFjcm9zcyBhbGwgZmlsZXMgaW4gYSBjb250ZXh0PC9zbWFsbD4NCiAgICAgIDwvbGk+DQogICAgICA8bGk+PGNvZGU+UE9TVCAvdjEvcHVzaF9maWxlczwvY29kZT4gLSBQdXNoIG11bHRpcGxlIGZpbGVzIGluIGEgc2luZ2xlIGNvbW1pdA0KICAgICAgICA8YnI+PHNtYWxsPkVmZmljaWVudGx5IGNvbW1pdCBtdWx0aXBsZSBmaWxlcyB3aXRoIGEgc2luZ2xlIG9wZXJhdGlvbjwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPlBPU1QgL3YxL2dpdGh1Yl9maWxlczwvY29kZT4gLSBHZXQgZmlsZXMgZnJvbSBHaXRIdWIgcmVwbw0KICAgICAgICA8YnI+PHNtYWxsPlJldHJpZXZlIGZpbGVzIGZyb20gYSBHaXRIdWIgcmVwb3NpdG9yeTwvc21hbGw+DQogICAgICA8L2xpPg0KICAgIDwvdWw+DQoNCiAgICA8aDM+R2l0SHViIE9wZXJhdGlvbnM6PC9oMz4NCiAgICA8dWw+DQogICAgICA8bGk+PGNvZGU+R0VUIC9yZXBvczwvY29kZT4gLSBMaXN0IHJlcG9zaXRvcmllcw0KICAgICAgICA8YnI+PHNtYWxsPkxpc3QgYWxsIHJlcG9zaXRvcmllcyBmb3IgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlcjwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPlBPU1QgL3JlcG88L2NvZGU+IC0gQ3JlYXRlIHJlcG9zaXRvcnkNCiAgICAgICAgPGJyPjxzbWFsbD5DcmVhdGUgYSBuZXcgR2l0SHViIHJlcG9zaXRvcnk8L3NtYWxsPg0KICAgICAgPC9saT4NCiAgICAgIDxsaT48Y29kZT5QT1NUIC9icmFuY2g8L2NvZGU+IC0gQ3JlYXRlIGJyYW5jaA0KICAgICAgICA8YnI+PHNtYWxsPkNyZWF0ZSBhIG5ldyBicmFuY2ggaW4gYSByZXBvc2l0b3J5PC9zbWFsbD4NCiAgICAgIDwvbGk+DQogICAgICA8bGk+PGNvZGU+REVMRVRFIC9icmFuY2g8L2NvZGU+IC0gRGVsZXRlIGJyYW5jaA0KICAgICAgICA8YnI+PHNtYWxsPkRlbGV0ZSBhbiBleGlzdGluZyBicmFuY2g8L3NtYWxsPg0KICAgICAgPC9saT4NCiAgICAgIDxsaT48Y29kZT5QT1NUIC9wdWxscmVxdWVzdDwvY29kZT4gLSBDcmVhdGUgUHVsbCBSZXF1ZXN0DQogICAgICAgIDxicj48c21hbGw+Q3JlYXRlIGEgbmV3IHB1bGwgcmVxdWVzdDwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPlBPU1QgL3B1bGxyZXF1ZXN0L21lcmdlPC9jb2RlPiAtIE1lcmdlIFB1bGwgUmVxdWVzdA0KICAgICAgICA8YnI+PHNtYWxsPk1lcmdlIGFuIGV4aXN0aW5nIHB1bGwgcmVxdWVzdDwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPlBVVCAvY29tbWl0PC9jb2RlPiAtIENvbW1pdCBvciB1cGRhdGUgYSBmaWxlDQogICAgICAgIDxicj48c21hbGw+Q3JlYXRlIG9yIHVwZGF0ZSBhIHNpbmdsZSBmaWxlIGluIGEgcmVwb3NpdG9yeTwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPkdFVCAvcmVhZG1lPC9jb2RlPiAtIFJlYWQgUkVBRE1FIGZpbGUNCiAgICAgICAgPGJyPjxzbWFsbD5HZXQgdGhlIGNvbnRlbnRzIG9mIGEgcmVwb3NpdG9yeSdzIFJFQURNRTwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPkdFVCAvY29tbWl0czwvY29kZT4gLSBMaXN0IGNvbW1pdHMNCiAgICAgICAgPGJyPjxzbWFsbD5HZXQgY29tbWl0IGhpc3RvcnkgZm9yIGEgcmVwb3NpdG9yeTwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPkdFVCAvYnJhbmNoPC9jb2RlPiAtIEdldCBicmFuY2ggaW5mbw0KICAgICAgICA8YnI+PHNtYWxsPkdldCBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGJyYW5jaDwvc21hbGw+DQogICAgICA8L2xpPg0KICAgICAgPGxpPjxjb2RlPkdFVCAvZmlsZXM8L2NvZGU+IC0gTGlzdCBmaWxlcyBpbiByZXBvDQogICAgICAgIDxicj48c21hbGw+TGlzdCBhbGwgZmlsZXMgaW4gYSByZXBvc2l0b3J5IG9yIHNwZWNpZmljIHBhdGg8L3NtYWxsPg0KICAgICAgPC9saT4NCiAgICA8L3VsPg0KDQogICAgPGgzPlNlcnZlciBNYW5hZ2VtZW50OjwvaDM+DQogICAgPHVsPg0KICAgICAgPGxpPjxjb2RlPkdFVCAvaGVhbHRoPC9jb2RlPiAtIEhlYWx0aCBjaGVjayBlbmRwb2ludA0KICAgICAgICA8YnI+PHNtYWxsPkNoZWNrIHNlcnZlciBzdGF0dXMgYW5kIEdpdEh1YiB0b2tlbiB2YWxpZGl0eTwvc21hbGw+DQogICAgICA8L2xpPg0KICAgIDwvdWw+DQoNCiAgICA8aDM+RmVhdHVyZXM6PC9oMz4NCiAgICA8dWw+DQogICAgICA8bGk+QXV0b21hdGljIGNvbnRlbnQgZW5jb2RpbmcvZGVjb2Rpbmc8L2xpPg0KICAgICAgPGxpPkNvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmc8L2xpPg0KICAgICAgPGxpPkRldGFpbGVkIGxvZ2dpbmc8L2xpPg0KICAgICAgPGxpPlN1cHBvcnQgZm9yIGJ1bGsgb3BlcmF0aW9uczwvbGk+DQogICAgICA8bGk+QXV0b21hdGljIGNvbnRleHQgY2xlYW51cDwvbGk+DQogICAgICA8bGk+RG9ja2VyIHN1cHBvcnQ8L2xpPg0KICAgIDwvdWw+DQogIGApOw0KfSk7DQoNCi8vIDEuIExpc3QgcmVwb3NpdG9yaWVzIGZvciBvd25lcg0KYXBwLmdldCgnL3JlcG9zJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7DQogIHRyeSB7DQogICAgY29uc3QgcmVwb3MgPSBhd2FpdCBvY3Rva2l0LnJlcG9zLmxpc3RGb3JVc2VyKHsgdXNlcm5hbWU6IE9XTkVSIH0pOw0KICAgIHJlcy5qc29uKHJlcG9zLmRhdGEpOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTsNCiAgfQ0KfSk7DQoNCi8vIDIuIENyZWF0ZSByZXBvc2l0b3J5DQphcHAucG9zdCgnL3JlcG8nLCBhc3luYyAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyByZXBvTmFtZSwgZGVzY3JpcHRpb24sIHByaXZhdGU6IGlzUHJpdmF0ZSB9ID0gcmVxLmJvZHk7DQogIHRyeSB7DQogICAgY29uc3QgcmVwbyA9IGF3YWl0IG9jdG9raXQucmVwb3MuY3JlYXRlRm9yQXV0aGVudGljYXRlZFVzZXIoew0KICAgICAgbmFtZTogcmVwb05hbWUsDQogICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgJycsDQogICAgICBwcml2YXRlOiAhIWlzUHJpdmF0ZSwNCiAgICB9KTsNCiAgICByZXMuanNvbihyZXBvLmRhdGEpOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTsNCiAgfQ0KfSk7DQoNCi8vIEhlbHBlcjogZ2V0IHNoYSBvZiBicmFuY2ggcmVmDQphc3luYyBmdW5jdGlvbiBnZXRSZWZTaGEocmVwbywgcmVmKSB7DQogIGNvbnN0IHJlZkRhdGEgPSBhd2FpdCBvY3Rva2l0LmdpdC5nZXRSZWYoew0KICAgIG93bmVyOiBPV05FUiwNCiAgICByZXBvLA0KICAgIHJlZiwNCiAgfSk7DQogIHJldHVybiByZWZEYXRhLmRhdGEub2JqZWN0LnNoYTsNCn0NCg0KLy8gMy4gQ3JlYXRlIGJyYW5jaA0KYXBwLnBvc3QoJy9icmFuY2gnLCBhc3luYyAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyByZXBvTmFtZSwgbmV3QnJhbmNoTmFtZSwgZnJvbUJyYW5jaCA9ICdtYWluJyB9ID0gcmVxLmJvZHk7DQogIHRyeSB7DQogICAgY29uc3Qgc2hhID0gYXdhaXQgZ2V0UmVmU2hhKHJlcG9OYW1lLCBgaGVhZHMvJHtmcm9tQnJhbmNofWApOw0KDQogICAgY29uc3QgbmV3QnJhbmNoID0gYXdhaXQgb2N0b2tpdC5naXQuY3JlYXRlUmVmKHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgcmVmOiBgcmVmcy9oZWFkcy8ke25ld0JyYW5jaE5hbWV9YCwNCiAgICAgIHNoYSwNCiAgICB9KTsNCiAgICByZXMuanNvbihuZXdCcmFuY2guZGF0YSk7DQogIH0gY2F0Y2ggKGVycikgew0KICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pOw0KICB9DQp9KTsNCg0KLy8gNC4gRGVsZXRlIGJyYW5jaA0KYXBwLmRlbGV0ZSgnL2JyYW5jaCcsIGFzeW5jIChyZXEsIHJlcykgPT4gew0KICBjb25zdCB7IHJlcG9OYW1lLCBicmFuY2hOYW1lIH0gPSByZXEuYm9keTsNCiAgdHJ5IHsNCiAgICBhd2FpdCBvY3Rva2l0LmdpdC5kZWxldGVSZWYoew0KICAgICAgb3duZXI6IE9XTkVSLA0KICAgICAgcmVwbzogcmVwb05hbWUsDQogICAgICByZWY6IGBoZWFkcy8ke2JyYW5jaE5hbWV9YCwNCiAgICB9KTsNCiAgICByZXMuanNvbih7IG1lc3NhZ2U6IGBCcmFuY2ggJHticmFuY2hOYW1lfSBkZWxldGVkLmAgfSk7DQogIH0gY2F0Y2ggKGVycikgew0KICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pOw0KICB9DQp9KTsNCg0KLy8gNS4gQ3JlYXRlIFB1bGwgUmVxdWVzdA0KYXBwLnBvc3QoJy9wdWxscmVxdWVzdCcsIGFzeW5jIChyZXEsIHJlcykgPT4gew0KICBjb25zdCB7IHJlcG9OYW1lLCB0aXRsZSwgaGVhZEJyYW5jaCwgYmFzZUJyYW5jaCA9ICdtYWluJywgYm9keSB9ID0gcmVxLmJvZHk7DQogIHRyeSB7DQogICAgY29uc3QgcHIgPSBhd2FpdCBvY3Rva2l0LnB1bGxzLmNyZWF0ZSh7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIHRpdGxlLA0KICAgICAgaGVhZDogaGVhZEJyYW5jaCwNCiAgICAgIGJhc2U6IGJhc2VCcmFuY2gsDQogICAgICBib2R5OiBib2R5IHx8ICcnLA0KICAgIH0pOw0KICAgIHJlcy5qc29uKHByLmRhdGEpOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTsNCiAgfQ0KfSk7DQoNCi8vIDYuIE1lcmdlIFB1bGwgUmVxdWVzdA0KYXBwLnBvc3QoJy9wdWxscmVxdWVzdC9tZXJnZScsIGFzeW5jIChyZXEsIHJlcykgPT4gew0KICBjb25zdCB7IHJlcG9OYW1lLCBwdWxsTnVtYmVyLCBjb21taXRUaXRsZSwgY29tbWl0TWVzc2FnZSB9ID0gcmVxLmJvZHk7DQogIHRyeSB7DQogICAgY29uc3QgbWVyZ2UgPSBhd2FpdCBvY3Rva2l0LnB1bGxzLm1lcmdlKHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgcHVsbF9udW1iZXI6IHB1bGxOdW1iZXIsDQogICAgICBjb21taXRfdGl0bGU6IGNvbW1pdFRpdGxlIHx8IGBNZXJnZSBQUiAjJHtwdWxsTnVtYmVyfWAsDQogICAgICBjb21taXRfbWVzc2FnZTogY29tbWl0TWVzc2FnZSB8fCAnJywNCiAgICB9KTsNCiAgICByZXMuanNvbihtZXJnZS5kYXRhKTsNCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7DQogIH0NCn0pOw0KDQovLyBJbXByb3ZlZCBjb21taXQgZW5kcG9pbnQNCmFwcC5wdXQoJy9jb21taXQnLCBhc3luYyAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyByZXBvTmFtZSwgYnJhbmNoID0gJ21haW4nLCBwYXRoLCBjb250ZW50LCBtZXNzYWdlIH0gPSByZXEucm93Ow0KICANCiAgaWYgKCFyZXBvTmFtZSB8fCAhcGF0aCAgfHwgIWNvbnRlbnQgfHwgIW1lc3NhZ2UpIHsNCiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyANCiAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnLCANCiAgICAgIHJlcXVpcmVkOiBbJ3JlcG9OYW1lJywgJ3BhdGgnLCAnY29udGVudCcsICdtZXNzYWdlJ10gDQogICAgfSk7DQogIH0NCg0KICB0cnkgew0KICAgIC8vIEdldCBTSEEgb2YgZXhpc3RpbmcgZmlsZSBpZiBhbnkNCiAgICBsZXQgc2hhOw0KICAgIHRyeSB7DQogICAgICBjb25zdCBmaWxlID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5nZXRDb250ZW50KHsNCiAgICAgICAgb3duZXI6IE9XTkVSLA0KICAgICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgICAgcGF0aCwNCiAgICAgICAgcmVmOiBicmFuY2gNCiAgICAgIH0pOw0KICAgICAgc2hhID0gZmlsZS5kYXRhLnNoYTsNCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdCB5ZXQsIHdoaWNoIGlzIGZpbmUNCiAgICAgIGxvZ2dlci5pbmZvKGBGaWxlICR7cGF0aH0gZG9lc24ndCBleGlzdCB5ZXQgaW4gcmVwbyAke3JlcG9OYW1lfWApOw0KICAgIH0NCg0KICAgIC8vIENyZWF0ZSBvciB1cGRhdGUgZmlsZQ0KICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5jcmVhdGVPclVwZGF0ZUZpbGVDb250ZW50cyh7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIHBhdGgsDQogICAgICBtZXNzYWdlLA0KICAgICAgY29udGVudDogZW5jb2RlQ29udGVudChjb250ZW50KSwNCiAgICAgIGJyYW5jaCwNCiAgICAgIC4uLihzaGEgJiYgeyBzaGEgfSkNCiAgICB9KTsNCg0KICAgIGxvZ2dlci5pbmZvKGBTdWNjZXNzZnVsbHkgY29tbWl0dGVkICR7cGF0aH0gdG8gJHtyZXBvTmFtZX0vJHticmFuY2h9YCk7DQogICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSk7DQogIH0gY2F0Y2ggKGVycikgew0KICAgIGxvZ2dlci5lcnJvcignRXJyb3IgY29tbWl0dGluZyBmaWxlOicsIGVycik7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyANCiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGNvbW1pdCBmaWxlJywgDQogICAgICBkZXRhaWxzOiBlcnIubWVzc2FnZSANCiAgICB9KTsNCiAgfQ0KfSk7DQoNCi8vIDguIFJlYWQgUkVBRE1FIGZpbGUNCmFwcC5nZXQoJy9yZWFkbWUnLCBhc3luYyAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyByZXBvTmFtZSwgYnJhbmNoID0gJ21haW4nIH0gPSByZXEucXVlcnk7DQogIHRyeSB7DQogICAgY29uc3QgcmVhZG1lID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5nZXRSZWFkbWUoew0KICAgICAgb3duZXI6IE9XTkVSLA0KICAgICAgcmVwbzogcmVwb05hbWUsDQogICAgICByZWY6IGJyYW5jaCwNCiAgICB9KTsNCiAgICAvLyBEZWNvZGUgY29udGVudCBmcm9tIGJhc2U2NA0KICAgIGNvbnN0IGNvbnRlbnQgPSBCdWZmZXIuZnJvbShyZWFkbWUuZGF0YS5jb250ZW50LCAnYmFzZTY0JykudG9TdHJpbmcoKTsNCiAgICByZXMuc2VuZChjb250ZW50KTsNCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7DQogIH0NCn0pOw0KDQovLyA5LiBMaXN0IGNvbW1pdHMNCmFwcC5nZXQoJy9jb21taXRzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7DQogIGNvbnN0IHsgcmVwb05hbWUsIGJyYW5jaCA9ICdtYWluJyB9ID0gcmVxLnF1ZXJ5Ow0KICB0cnkgew0KICAgIGNvbnN0IGNvbW1pdHMgPSBhd2FpdCBvY3Rva2l0LnJlcG9zLmxpc3RDb21taXRzKHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgc2hhOiBicmFuY2gsDQogICAgfSk7DQogICAgcmVzLmpzb24oY29tbWl0cy5kYXRhKTsNCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7DQogIH0NCn0pOw0KDQovLyAxMC4gR2V0IGJyYW5jaCBpbmZvDQphcHAuZ2V0KCcvYnJhbmNoJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7DQogIGNvbnN0IHsgcmVwb05hbWUsIGJyYW5jaE5hbWUgfSA9IHJlcS5xdWVyeTsNCiAgdHJ5IHsNCiAgICBjb25zdCBicmFuY2ggPSBhd2FpdCBvY3Rva2l0LnJlcG9zLmdldEJyYW5jaCh7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIGJyYW5jaDogYnJhbmNoTmFtZSwNCiAgICB9KTsNCiAgICByZXMuanNvbihicmFuY2guZGF0YSk7DQogIH0gY2F0Y2ggKGVycikgew0KICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pOw0KICB9DQp9KTsNCg0KLy8gMTEuIExpc3QgZmlsZXMgaW4gcmVwbyByb290IG9yIHNwZWNpZmljIHBhdGgNCmFwcC5nZXQoJy9maWxlcycsIGFzeW5jIChyZXEsIHJlcykgPT4gew0KICBjb25zdCB7IHJlcG9OYW1lLCBwYXRoID0gJycsIGJyYW5jaCA9ICdtYWluJyB9ID0gcmVxLnF1ZXJ5Ow0KICB0cnkgew0KICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5nZXRDb250ZW50KHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgcGF0aCwNCiAgICAgIHJlZjogYnJhbmNoLA0KICAgIH0pOw0KICAgIHJlcy5qc29uKGZpbGVzLmRhdGEpOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTsNCiAgfQ0KfSk7DQoNCi8vIE1DUCBlbmRwb2ludCB0byBnZXQgZmlsZXMgZnJvbSBHaXRIdWIgcmVwbw0KYXBwLnBvc3QoJy92MS9naXRodWJfZmlsZXMnLCBhc3luYyAocmVxLCByZXMpID0+IHsNCiAgY29uc3QgeyByZXBvLCBicmFuY2ggPSAnbWFpbicsIHBhdGggPSAnJyB9ID0gcmVxLmJvZHk7DQogIA0KICB0cnkgew0KICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgb2N0b2tpdC5yZXBvcy5nZXRDb250ZW50KHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG8sDQogICAgICBwYXRoLA0KICAgICAgcmVmOiBicmFuY2gsDQogICAgfSk7DQogICAgDQogICAgY29uc3QgcmVzdWx0ID0gW107DQogICAgDQogICAgLy8gUHJvY2VzcyBhcnJheSBvZiBmaWxlcyBvciBhIHNpbmdsZSBmaWxlDQogICAgY29uc3QgZmlsZUl0ZW1zID0gQXJyYXkuaXNBcnJheShmaWxlcy5kYXRhKSA/IGZpbGVzLmRhdGEgOiBbZmlsZXMuZGF0YV07DQogICAgDQogICAgZm9yIChjb25zdCBpdGVtIG9mIGZpbGVJdGVtcykgew0KICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2ZpbGUnKSB7DQogICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBvY3Rva2l0LnJlcG9zLmdldENvbnRlbnQoew0KICAgICAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgICAgICByZXBvLA0KICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCwNCiAgICAgICAgICByZWY6IGJyYW5jaCwNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICByZXN1bHQucHVzaCh7DQogICAgICAgICAgcGF0aDogaXRlbS5wYXRoLA0KICAgICAgICAgIGNvbnRlbnQ6IEJ1ZmZlci5mcm9tKGNvbnRlbnQuZGF0YS5jb250ZW50LCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0Zi04JykNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIHJlcy5qc29uKHsgZmlsZXM6IHJlc3VsdCB9KTsNCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7DQogIH0NCn0pOw0KDQovLyBOZXcgZW5kcG9pbnQgdG8gcHVzaCBtdWx0aXBsZSBmaWxlcyBpbiBhIHNpbmdsZSBjb21taXQNCmFwcC5wb3N0KCcvdjEvcHVzaF9maWxlcycsIGFzeW5jIChyZXEsIHJlcykgPT4gew0KICBjb25zdCB7IHJlcG9OYW1lLCBicmFuY2ggPSAnbWFpbicsIGZpbGVzLCBtZXNzYWdlIH0gPSByZXEucm93Ow0KICANCiAgaWYgKCFyZXBvTmFtZSB8fCAhZmlsZXMgfHwgIUFycmF5LmlzQXJyYXkoZmlsZXMpIHx8ICFtZXNzYWdlKSB7DQogICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgDQogICAgICBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCcsIA0KICAgICAgcmVxdWlyZWQ6IHsgcmVwb05hbWU6ICdzdHJpbmcnLCBmaWxlczogJ2FycmF5JywgbWVzc2FnZTogJ3N0cmluZycgfSB9KTsNCiAgfQ0KDQogIHRyeSB7DQogICAgLy8gR2V0IHRoZSBsYXRlc3QgY29tbWl0IFNIRQ0KICAgIGNvbnN0IHJlZiA9IGF3YWl0IG9jdG9raXQuZ2l0LmdldFJlZih7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIHJlZjogYGhlYWRzLyR7YnJhbmNofWApDQogICAgfSk7DQogICAgY29uc3QgbGF0ZXN0Q29tbWl0ID0gYXdhaXQgb2N0b2tpdC5naXQuZ2V0Q29tbWl0KHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgY29tbWl0X3NoYTogcmVmLmRhdGEub2JqZWN0LnNoYQ0KICAgIH0pOw0KDQogICAgLy8gQ3JlYXRlIGJsb2JzIGZvciBhbGwgZmlsZXMNCiAgICBjb25zdCBibG9icyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChhc3luYyBmaWxlID0+IHsNCiAgICAgIGlmICghZmlsZS5wYXRoIHx8ICFmaWxlLmNvbnRlbnQpIHsNCiAgICAgICAgbG9nZ2VyLndhcm4oYFNraXBwaW5nIGludmFsaWQgZmlsZSBlbnRyeTogJHtKU09OLnN0cmluZ2lmeShmaWxlKX1gKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICB9DQoNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvY3Rva2l0LmdpdC5jcmVhdGVCbG9iKHsNCiAgICAgICAgICBvd25lcjogT1dORVIsDQogICAgICAgICAgcmVwbzogcmVwb05hbWUsDQogICAgICAgICAgY29udGVudDogZW5jb2RlQ29udGVudChmaWxlLmNvbnRlbnQpLA0KICAgICAgICAgIGVuY29kaW5nOiAnYmFzZTY0Jw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCwNCiAgICAgICAgICBtb2RlOiAnMTAwNjQ0JywNCiAgICAgICAgICB0eXBlOiAnYmxvYicsDQogICAgICAgICAgc2hhOiBibG9iLmRhdGEuc2hhDQogICAgICAgIH07DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBjcmVhdGluZyBibG9iIGZvciAke2ZpbGUucGF0aH06YCwgZXJyKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICB9DQogICAgfSkpOw0KDQogICAgLy8gRmlsdGVyIG91dCBhbnkgZmFpbGVkIGJsb2IgY3JlYXRpb25zDQogICAgY29uc3QgdmFsaWRCbG9icyA9IGJsb2JzLmZpbHRlcihibG9iID0+IGJsb2IgIT09IG51bGwpOw0KDQogICAgLy8gQ3JlYXRlIGEgbmV3IHRyZWUNCiAgICBjb25zdCB0cmVlID0gYXdhaXQgb2N0b2tpdC5naXQuY3JlYXRlVHJlZSh7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIGJhc2VfdHJlZTogbGF0ZXN0Q29tbWl0LmRhdGEudHJlZS5zaGEsDQogICAgICB0cmVlOiB2YWxpZEJsb2JzDQogICAgfSk7DQoNCiAgICAvLyBDcmVhdGUgYSBuZXcgY29tbWl0DQogICAgY29uc3QgY29tbWl0ID0gYXdhaXQgb2N0b2tpdC5naXQuY3JlYXRlQ29tbWl0KHsNCiAgICAgIG93bmVyOiBPV05FUiwNCiAgICAgIHJlcG86IHJlcG9OYW1lLA0KICAgICAgbWVzc2FnZSwNCiAgICAgIHRyZWU6IHRyZWUuZGF0YS5zaGEsDQogICAgICBwYXJlbnRzOiBsYXRlc3RDb21taXQuZGF0YS5zaGFfDQogICAgfSk7DQoNCiAgICAvLyBVcGRhdGUgdGhlIHJlZmVyZW5jZQ0KICAgIGF3YWl0IG9jdG9raXQuZ2l0LnVwZGF0ZVJlZih7DQogICAgICBvd25lcjogT1dORVIsDQogICAgICByZXBvOiByZXBvTmFtZSwNCiAgICAgIHJlZjogYBoZWFkcy8ke2JyYW5jaH1gLA0KICAgICAgc2hhOiBjb21taXQuZGF0YS5zaGENCiAgICB9KTsNCg0KICAgIHJlcy5qc29uKHsNCiAgICAgIHN1Y2Nlc3M6IHRydWUsDQogICAgICBjb21taXQ6IGNvbW1pdC5kYXRhLA0KICAgICAgZmlsZXM6IHZhbGlkQmxvYnMubWFwKGJsb2IgPT4gKHsgcGF0aDogYmxvYi5wYXRoLCBzaGE6IGJsb2Iuc2hhIH0pKQ0KICAgIH0pOw0KICB9IGNhdGNoIChlcnIpIHsNCiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGluIGJ1bGsgZmlsZSBwdXNoOicsIGVycik7DQogICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBwdXNoIGZpbGVzJywgZGV0YWlsczogZXJyLm1lc3NhZ2UgfSk7DQogIH0NCn0pOw0KDQovLyBIZWFsdGggY2hlY2sgZW5kcG9pbnQNCmFwcC5nZXQoJy9oZWFsdGgnLCAocmVxLCByZXMpID0+IHsNCiAgcmVzLmpzb24oeyANCiAgICBzdGF0dXM6ICdoZWFsdGh5JywNCiAgICBnaXRodWJfdG9rZW46ICEhcHJvY2Vzcy5lbnYuR0lUSFVCX1RPS0VOLA0KICAgIGNvbnRleHRzOiBjb250ZXh0U3RvcmUuc2l6ZQ0KICB9KTsNCn0pOw0KDQovLyBBZGQgY2xlYW51cCBtZWNoYW5pc20gZm9yIG9sZCBjb250ZXh0cyAocnVuIGV2ZXJ5IGhvdXIpDQpzZXRJbnRlcnZhbCgoKSA9PiB7DQogIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7DQogIGZvciAoY29uc3QgW2NvbnRleHRJZCwgY29udGV4dF0gb2YgY29udGV4dFN0b3JlLmVudHJpZXMoKSkgew0KICAgIC8vIFJlbW92ZSBjb250ZXh0cyBvbGRlciB0aGFuIDI0IGhvdXJzDQogICAgaWYgKChub3cgLSBjb250ZXh0LmNyZWF0ZWQpID4gMjQgKiA2MCAqIDYwICogMTAwMCkgew0KICAgICAgY29udGV4dFN0b3JlLmRlbGV0ZShjb250ZXh0SWQpOw0KICAgIH0NCiAgfQ0KfSwgNjAgKiA2MCAqIDEwMDApOw0KDQovLyBTdGFydCBzZXJ2ZXINCmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7DQphcHAubGlzdGVuKFBPUlQsICgpID0+IHsNCiAgbG9nZ2VyLmluZm8oYFNlcnZlciBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApOw0KICBsb2dnZXIuaW5mbyhgTW9kZWwgQ29udGV4dCBQcm90b2NvbCBlbmFibGVkIGZvciBDdXJzb3IgSURFYCk7DQp9KTs="
                  },
                  {
                      "path":  "README.md",
                      "content":  "IyBHaXRIdWIgTUNQIFNlcnZlcg0KDQpBIE1vZGVsIENvbnRleHQgUHJvdG9jb2wgKE1DUCkgc2VydmVyIGltcGxlbWVudGF0aW9uIHdpdGggY29tcHJlaGVuc2l2ZSBHaXRIdWIgaW50ZWdyYXRpb24gZm9yIEN1cnNvciBJREUuIFRoaXMgc2VydmVyIHByb3ZpZGVzIGEgcm9idXN0IEFQSSBmb3IgbWFuYWdpbmcgY29kZSBjb250ZXh0cyBhbmQgcGVyZm9ybWluZyBHaXRIdWIgb3BlcmF0aW9ucy4NCg0KIyMgRmVhdHVyZXMNCg0KLSAqKk1DUCBQcm90b2NvbCBTdXBwb3J0Kio6IEZ1bGwgaW1wbGVtZW50YXRpb24gb2YgdGhlIE1vZGVsIENvbnRleHQgUHJvdG9jb2wNCi0gKipHaXRIdWIgSW50ZWdyYXRpb24qKjogQ29tcHJlaGVuc2l2ZSBHaXRIdWIgQVBJIGludGVncmF0aW9uDQotICoqQnVsayBPcGVyYXRpb25zKio6IFN1cHBvcnQgZm9yIG11bHRpLWZpbGUgb3BlcmF0aW9ucyBpbiBzaW5nbGUgY29tbWl0cw0KLSAqKkRvY2tlciBTdXBwb3J0Kio6IFJlYWR5IHRvIHJ1biBpbiBjb250YWluZXJzDQotICoqQXV0b21hdGljIENvbnRlbnQgSGFuZGxpbmcqKjogQnVpbHQtaW4gY29udGVudCBlbmNvZGluZy9kZWNvZGluZw0KLSAqKkVycm9yIEhhbmRsaW5nKio6IENvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmcgYW5kIGxvZ2dpbmcNCi0gKipIZWFsdGggTW9uaXRvcmluZyoqOiBCdWlsdC1pbiBoZWFsdGggY2hlY2sgZW5kcG9pbnQNCg0KIyMgUXVpY2sgU3RhcnQNCg0KIyMjIFVzaW5nIERvY2tlcg0KDQoxLiBCdWlsZCB0aGUgaW1hZ2U6DQogICBgYGBiYXNoDQogICBkb2NrZXIgYnVpbGQgLXQgbWNwLXNlcnZlciAuDQogICBgYGANCg0KMi4gUnVuIHdpdGggRG9ja2VyIENvbXBvc2U6DQogICBgYGBiYXNoDQogICBkb2NrZXItY29tcG9zZSB1cCAtZA0KICAgYGBgDQoNCiMjIyBNYW51YWwgU2V0dXANCg0KMS4gSW5zdGFsbCBkZXBlbmRlbmNpZXM6DQogICBgYGBiYXNoDQogICBucG0gaW5zdGFsbA0KICAgYGBgDQoNCjIuIFNldCB1cCBlbnZpcm9ubWVudCB2YXJpYWJsZXM6DQogICBgYGBiYXNoDQogICBHSVRIVUJfVE9LRU49eW91cl9naXRodWJfdG9rZW4NCiAgIE5PREVfRU5WPXByb2R1Y3Rpb24NCiAgIFBPUlQ9MzAwMA0KICAgYGBgDQoNCjMuIFN0YXJ0IHRoZSBzZXJ2ZXI6DQogICBgYGBiYXNoDQogICBucG0gc3RhcnQNCiAgIGBgYA0KDQojIyBBUEkgRG9jdW1lbnRhdGlvbg0KDQojIyMgTUNQIFByb3RvY29sIEVuZHBvaW50cw0KDQojIyMjIENvbnRleHQgTWFuYWdlbWVudA0KDQotICoqSW5pdGlhbGl6ZSBDb250ZXh0KioNCiAgYGBgaHR0cA0KICBQT1NUIC92MS9pbml0DQogIGBgYA0KICBDcmVhdGVzIGEgbmV3IGNvbnRleHQgZm9yIG1hbmFnaW5nIGZpbGVzIGFuZCBvcGVyYXRpb25zLg0KDQotICoqQWRkIEZpbGUgdG8gQ29udGV4dCoqDQogIGBgYGh0dHANCiAgUE9TVCAvdjEvYWRkX2ZpbGUNCiAgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uDQoNCiAgew0KICAgICJjb250ZXh0X2lkIjogImN0eF8xMjMiLA0KICAgICJwYXRoIjogImZpbGUudHh0IiwNCiAgICAiY29udGVudCI6ICJmaWxlIGNvbnRlbnQiLA0KICAgICJyZXBvIjogIm9wdGlvbmFsX3JlcG9fbmFtZSIsDQogICAgImJyYW5jaCI6ICJvcHRpb25hbF9icmFuY2hfbmFtZSINCiAgfQ0KICBgYGANCg0KLSAqKlJlbW92ZSBGaWxlIGZyb20gQ29udGV4dCoqDQogIGBgYGh0dHANCiAgUE9TVCAvdjEvcmVtb3ZlX2ZpbGUNCiAgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uDQoNCiAgew0KICAgICJjb250ZXh0X2lkIjogImN0eF8xMjMiLA0KICAgICJwYXRoIjogImZpbGUudHh0Ig0KICB9DQogIGBgYA0KDQotICoqR2V0IENvbnRleHQqKg0KICBgYGBodHRwDQogIEdFVCAvdjEvZ2V0X2NvbnRleHQ/Y29udGV4dF9pZD1jdHhfMTIzDQogIGBgYA0KDQotICoqU2VhcmNoIGluIENvbnRleHQqKg0KICBgYGBodHRwDQogIFBPU1QgL3YxL3NlYXJjaA0KICBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCg0KICB7DQogICAgImNvbnRleHRfaWQiOiAiY3R4XzEyMyIsDQogICAgInF1ZXJ5IjogInNlYXJjaCB0ZXJtIg0KICB9DQogIGBgYA0KDQojIyMjIEdpdEh1YiBPcGVyYXRpb25zDQoNCi0gKipQdXNoIE11bHRpcGxlIEZpbGVzKioNCiAgYGBgaHR0cA0KICBQT1NUIC92MS9wdXNoX2ZpbGVzDQogIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KDQogIHsNCiAgICAicmVwb05hbWUiOiAicmVwb19uYW1lIiwNCiAgICAiYnJhbmNoIjogIm1haW4iLA0KICAgICJmaWxlcyI6IFsNCiAgICAgIHsNCiAgICAgICAgInBhdGgiOiAiZmlsZTEudHh0IiwNCiAgICAgICAgImNvbnRlbnQiOiAiY29udGVudDEiDQogICAgICB9LA0KICAgICAgew0KICAgICAgICAicGF0aCI6ICJmaWxlMi50eHQiLA0KICAgICAgICAiY29udGVudCI6ICJjb250ZW50MiINCiAgICAgIH0NCiAgICBdLA0KICAgICJtZXNzYWdlIjogIkNvbW1pdCBtZXNzYWdlIg0KICB9DQogIGBgYA0KDQotICoqR2V0IEZpbGVzIGZyb20gR2l0SHViKioNCiAgYGBgaHR0cA0KICBQT1NUIC92MS9naXRodWJfZmlsZXMNCiAgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uDQoNCiAgew0KICAgICJyZXBvIjogInJlcG9fbmFtZSIsDQogICAgImJyYW5jaCI6ICJtYWluIiwNCiAgICAicGF0aCI6ICJvcHRpb25hbC9wYXRoIg0KICB9DQogIGBgYA0KDQojIyMgR2l0SHViIE1hbmFnZW1lbnQgRW5kcG9pbnRzDQoNCi0gKipMaXN0IFJlcG9zaXRvcmllcyoqDQogIGBgYGh0dHANCiAgR0VUIC9yZXBvcw0KICBgYGANCg0KLSAqKkNyZWF0ZSBSZXBvc2l0b3J5KioNCiAgYGBgaHR0cA0KICBQT1NUIC9yZXBvDQogIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KDQogIHsNCiAgICAicmVwb05hbWUiOiAibmV3X3JlcG8iLA0KICAgICJkZXNjcmlwdGlvbiI6ICJSZXBvc2l0b3J5IGRlc2NyaXB0aW9uIiwNCiAgICAicHJpdmF0ZSI6IHRydWUNCiAgfQ0KICBgYGANCg0KLSAqKkJyYW5jaCBPcGVyYXRpb25zKioNCiAgYGBgaHR0cA0KICBQT1NUIC9icmFuY2ggICAgIyBDcmVhdGUgYnJhbmNoDQogIERFTEVURSAvYnJhbmNoICAjIERlbGV0ZSBicmFuY2gNCiAgR0VUIC9icmFuY2ggICAgICMgR2V0IGJyYW5jaCBpbmZvDQogIGBgYA0KDQotICoqUHVsbCBSZXF1ZXN0IE9wZXJhdGlvbnMqKg0KICBgYGBodHRwDQogIFBPU1QgL3B1bGxyZXF1ZXN0ICAgICAgICAjIENyZWF0ZSBQUg0KICBQT1NUIC9wdWxscmVxdWVzdC9tZXJnZSAgIyBNZXJnZSBQUg0KICBgYGANCg0KLSAqKkZpbGUgT3BlcmF0aW9ucyoqDQogIGBgYGh0dHANCiAgUFVUIC9jb21taXQgICAjIENvbW1pdCBmaWxlDQogIEdFVCAvcmVhZG1lICAgIyBHZXQgUkVBRE1FDQogIEdFVCAvZmlsZXMgICAgIyBMaXN0IGZpbGVzDQogIEdFVCAvY29tbWl0cyAgIyBMaXN0IGNvbW1pdHMNCiAgYGBgDQoNCiMjIEVycm9yIEhhbmRsaW5nDQoNClRoZSBzZXJ2ZXIgcHJvdmlkZXMgZGV0YWlsZWQgZXJyb3IgcmVzcG9uc2VzIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0Og0KYGBganNvbg0Kew0KICAiZXJyb3IiOiAiRXJyb3IgZGVzY3JpcHRpb24iLA0KICAiZGV0YWlscyI6ICJEZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvbiINCn0NCmBgYA0KDQojIyBIZWFsdGggQ2hlY2sNCg0KTW9uaXRvciBzZXJ2ZXIgaGVhbHRoIHVzaW5nOg0KYGBgaHR0cA0KR0VUIC9oZWFsdGgNCmBgYA0KDQpSZXNwb25zZToNCmBgYGpzb24NCnsNCiAgInN0YXR1cyI6ICJoZWFsdGh5IiwNCiAgImdpdGh1Yl90b2tlbiI6IHRydWUsDQogICJjb250ZXh0cyI6IDUNCn0NCmBgYA0KDQojIyBEb2NrZXIgU3VwcG9ydA0KDQpUaGUgc2VydmVyIGluY2x1ZGVzIERvY2tlciBzdXBwb3J0IHdpdGg6DQotIE11bHRpLXN0YWdlIGJ1aWxkcw0KLSBWb2x1bWUgc3VwcG9ydCBmb3IgbG9ncw0KLSBFbnZpcm9ubWVudCB2YXJpYWJsZSBjb25maWd1cmF0aW9uDQotIEhlYWx0aCBjaGVja3MNCi0gQXV0b21hdGljIHJlc3RhcnQgY2FwYWJpbGl0eQ0KDQojIyBDb250cmlidXRpbmcNCg0KMS4gRm9yayB0aGUgcmVwb3NpdG9yeQ0KMi4gQ3JlYXRlIHlvdXIgZmVhdHVyZSBicmFuY2gNCjMuIENvbW1pdCB5b3VyIGNoYW5nZXMNCjQuIFB1c2ggdG8gdGhlIGJyYW5jaA0KNS4gQ3JlYXRlIGEgUHVsbCBSZXF1ZXN0DQoNCiMjIExpY2Vuc2UNCg0KTUlUIExpY2Vuc2UNCg=="
                  },
                  {
                      "path":  "package.json",
                      "content":  "ewogICJuYW1lIjogIm1jcC1naXRodWItc2VydmVyIiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIk1vZGVsIENvbnRleHQgUHJvdG9jb2wgc2VydmVyIHdpdGggR2l0SHViIGludGVncmF0aW9uIGZvciBDdXJzb3IgSURFIiwKICAibWFpbiI6ICJzZXJ2ZXIuanMiLAogICJ0eXBlIjogIm1vZHVsZSIsCiAgInNjcmlwdHMiOiB7CiAgICAic3RhcnQiOiAibm9kZSBzZXJ2ZXIuanMiLAogICAgImRldiI6ICJub2RlbW9uIHNlcnZlci5qcyIKICB9LAogICJrZXl3b3JkcyI6IFsKICAgICJtY3AiLAogICAgImdpdGh1YiIsCiAgICAiY3Vyc29yIiwKICAgICJpZGUiCiAgXSwKICAiYXV0aG9yIjogIk1vc3RhZmEgU3dhaXN5IiwKICAibGljZW5zZSI6ICJJU0MiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiQG9jdG9raXQvcmVzdCI6ICJeMTkuMC43IiwKICAgICJib2R5LXBhcnNlciI6ICJeMS4yMC4yIiwKICAgICJkb3RlbnYiOiAiXjE2LjMuMSIsCiAgICAiZXhwcmVzcyI6ICJeNC4xOC4yIiwKICAgICJ3aW5zdG9uIjogIl4zLjguMiIKICB9LAogICJkZXZEZXBlbmRlbmNpZXMiOiB7CiAgICAibm9kZW1vbiI6ICJeMy4wLjEiCiAgfQp9"
                  },
                  {
                      "path":  ".gitignore",
                      "content":  "bm9kZV9tb2R1bGVzLw0KLmVudg0KLkRTX1N0b3JlDQpsb2dzLw0KLmN1cnNvci8NCi52c2NvZGUv"
                  },
                  {
                      "path":  "docker-compose.yml",
                      "content":  "dmVyc2lvbjogJzMuOCcNCg0Kc2VydmljZXM6DQogIG1jcC1zZXJ2ZXI6DQogICAgYnVpbGQ6IC4NCiAgICBpbWFnZTogbWNwLXNlcnZlcjpsYXRlc3QNCiAgICBjb250YWluZXJfbmFtZTogbWNwLXNlcnZlcg0KICAgIHBvcnRzOg0KICAgICAgLSAiMzAwMDozMDAwIg0KICAgIGVudmlyb25tZW50Og0KICAgICAgLSBOT0RFX0VOVj1wcm9kdWN0aW9uDQogICAgICAtIEdJVEhVQl9UT0tFTj1naHBfM1oyYVJBdGFIMHBKcGtDY1dKem1vVGtUUDJvWWF4MFpTRjM1DQogICAgdm9sdW1lczoNCiAgICAgIC0gLi9sb2dzOi91c3Ivc3JjL2FwcC9sb2dzDQogICAgcmVzdGFydDogdW5sZXNzLXN0b3BwZWQ="
                  },
                  {
                      "path":  "Dockerfile",
                      "content":  "IyBVc2UgTm9kZS5qcyBMVFMgdmVyc2lvbg0KRlJPTSBub2RlOjE4LWFscGluZQ0KDQojIENyZWF0ZSBhcHAgZGlyZWN0b3J5DQpXT1JLRElSIC91c3Ivc3JjL2FwcA0KDQojIENvcHkgcGFja2FnZSBmaWxlcw0KQ09QWSBwYWNrYWdlKi5qc29uIC4vDQoNCiMgSW5zdGFsbCBkZXBlbmRlbmNpZXMNClJVTiBucG0gaW5zdGFsbA0KDQojIENvcHkgc291cmNlIGNvZGUNCkNPUFkgLiAuDQoNCiMgQ3JlYXRlIHZvbHVtZSBmb3IgbG9ncw0KVk9MVU1FIFsiL3Vzci9zcmMvYXBwL2xvZ3MiXQ0KDQojIEV4cG9zZSBwb3J0DQpFWFBPU0UgMzAwMA0KDQojIFNldCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgd2l0aCBkZWZhdWx0cw0KRU5WIE5PREVfRU5WPXByb2R1Y3Rpb24gXA0KICAgIFBPUlQ9MzAwMCBcDQogICAgR0lUSFVCX1RPS0VOPSJnaHBfM1oyYVJBdGFIMHBKcGtDY1dKem1vVGtUUDJvWWF4MFpTRjM1Ig0KDQojIEFkZCBhIGhlYWx0aGNoZWNrDQpIRUFMVEhDSEVDSyAtLWludGVydmFsPTMwcyAtLXRpbWVvdXQ9MTBzIC0tc3RhcnQtcGVyaW9kPTVzIC0tcmV0cmllcz0zIFwNCiAgICBDTUQgd2dldCAtLW5vLXZlcmJvc2UgLS10cmllcz0xIC0tc3BpZGVyIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9oZWFsdGggfHwgZXhpdCAxDQoNCiMgU3RhcnQgdGhlIHNlcnZlcg0KQ01EIFsic2giLCAiLWMiLCAiaWYgWyAteiBcIiRHSVRIVUJfVE9LRU5cIiBdOyB0aGVuIGVjaG8gJ0Vycm9yOiBHSVRIVUJfVE9LRU4gaXMgcmVxdWlyZWQnICYmIGV4aXQgMTsgZWxzZSBub2RlIHNlcnZlci5qczsgZmkiXQ=="
                  }
              ]
}
